知识点：
1.thread_local 实现快捷访问当前thread
2.semaphore 实现线程构建的同步
3.swap 优化thread中function包装的cb 执行前后的效率